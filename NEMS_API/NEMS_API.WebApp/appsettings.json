{
  "Logging": {
    "IncludeScopes": false,
    "Debug": {
      "LogLevel": {
        "Default": "Warning"
      }
    },
    "Console": {
      "LogLevel": {
        "Default": "Warning"
      }
    }
  },
  "NEMSAPI": {
    "ResourceUrl": {
      "BundleProfileUrl": "http://hl7.org/fhir/STU3/bundle.html",
      "HeaderProfileUrl": "https://fhir.nhs.uk/STU3/StructureDefinition/Event-MessageHeader-1",
      "SubscriptionProfileUrl": "https://fhir.nhs.uk/STU3/StructureDefinition/EMS-Subscription-1",
      "EventCodesUrl": "https://fhir.nhs.uk/STU3/CodeSystem/EventType-1",
      "NhsNumberSystem": "https://fhir.nhs.uk/Id/nhs-number"
    },
    "SupportedContentTypes": [
      {
        "key": "fhirxml",
        "value": "application/fhir+xml"
      },
      {
        "key": "fhirjson",
        "value": "application/fhir+json"
      }
    ],
    "SubscriptionCriteriaRules": [
      {
        "Parameter": "prefix",
        "Min": 1,
        "Max": 1,
        "ValueType": "single",
        "Values": "/Bundle?type=message",
        "IsPrefix": true,
        "Ignore": false
      },
      {
        "Parameter": "type",
        "Min": 1,
        "Max": 1,
        "ValueType": "single",
        "Values": "message",
        "IsPrefix": false,
        "Ignore": true
      },
      {
        "Parameter": "servicetype",
        "Min": 0,
        "Max": 1,
        "ValueType": "regExp",
        "Values": "^(GP|CHO|UHV|EPCHR)$",
        "IsPrefix": false,
        "Ignore": false
      },
      {
        "Parameter": "patient.identifier",
        "Min": 1,
        "Max": 1,
        "ValueType": "regExp",
        "Values": "^http://fhir.nhs.net/Id/nhs-number\\|(\\d){10}$",
        "IsPrefix": false,
        "Ignore": false
      },
      {
        "Parameter": "messageheader.event",
        "Min": 1,
        "Max": 0,
        "ValueType": "codeSystem",
        "Values": "https://fhir.nhs.uk/STU3/CodeSystem/EventType-1",
        "IsPrefix": false,
        "Ignore": false
      },
      {
        "Parameter": "patient.age",
        "Min": 0,
        "Max": 2,
        "ValueType": "searchParameter",
        "Values": "https://fhir.nhs.uk/STU3/SearchParameter/EMS-PatientAge-1",
        "IsPrefix": false,
        "Ignore": false
      }
    ],
    "SkipSubscriptionCriteria": "false",
    "ServiceTypeCodes": [ "GP", "CHO", "UHV", "EPCHR" ],
    "PatientFile": "Data/patients.json",
    "SdsFile": "Data/sds.json",
    "SpineASID": "888888888888",
    "InteractionIdMap": [
      {
        "EndPoint": "$process-message",
        "HttpMethod": "POST",
        "InteractionId": "urn:nhs:names:services:clinicals-sync:PublicationApiPost",
        "ResourceType": "Bundle",
        "Scopes": [ "write" ]
      },
      {
        "EndPoint": "Subscription",
        "HttpMethod": "POST",
        "InteractionId": "urn:nhs:names:services:clinicals-sync:SubscriptionsApiPost",
        "ResourceType": "Subscription",
        "Scopes": [ "read", "write" ]
      },
      {
        "EndPoint": "Subscription",
        "HttpMethod": "GET",
        "InteractionId": "urn:nhs:names:services:clinicals-sync:SubscriptionsApiGet",
        "ResourceType": "Subscription",
        "Scopes": [ "read", "write" ]
      },
      {
        "EndPoint": "Subscription",
        "HttpMethod": "DELETE",
        "InteractionId": "urn:nhs:names:services:clinicals-sync:SubscriptionsApiDelete",
        "ResourceType": "Subscription",
        "Scopes": [ "read", "write" ]
      }
    ]
  }
}
