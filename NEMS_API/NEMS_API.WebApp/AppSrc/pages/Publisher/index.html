<template>
    <section class="container">
        <h1 class="h1">${heading}</h1>
        
        <form>
            <div class="form-group">
                <label for="patient">Patient</label>
                <select value.bind="selectedPatient" class="form-control" id="patient">
                    <option model.bind="null">--select--</option>
                    <option repeat.for="patient of patients" model.bind="patient">${patient.displayName} (${patient.nhsNumber})</option>
                </select>
            </div>
            <div class="form-group">
                <label for="eventMessageType">Event message type</label>
                <select value.bind="selectedEventMessageType" class="form-control" id="eventMessageType" disabled.bind="!selectedPatient">
                    <option model.bind="null">--select--</option>
                    <option repeat.for="eventMessageType of eventMessageTypes" model.bind="eventMessageType" selected>${eventMessageType.value}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="publishMessagePreview">Message Preview</label>
                <textarea class="form-control" id="publishMessagePreview" rows="10" value.bind="publishMessagePreview" disabled.bind="!selectedEventMessageType"></textarea>
            </div>
            <div class="form-group">
                <label for="messageFormat">Message Format</label>
                <select value.bind="selectedExampleMessageFormat" class="form-control" id="messageFormat" disabled.bind="!selectedEventMessageType">
                    <option repeat.for="exampleMessageFormat of exampleMessageFormats" model.bind="exampleMessageFormat">${exampleMessageFormat.value}</option>
                </select>
            </div>
            <button type="submit" click.delegate="sendEvent()" class="btn btn-default" disabled.bind="!selectedEventMessageType">Send</button>
        </form>
    </section>
</template>
